# ================================
#  Reddit → Lemmy Mirror (Full Example)
# ================================

# === Lemmy Connection ===
#LEMMY_URL=http://lemmy:8536
#LEMMY_UPLOAD_URL is the direct upload bypass (to bypass cloudflare) for videos. Needs to be your lemmy instance's proxy address
LEMMY_UPLOAD_URL=http://your-lemmy-instance-proxy-1:8536
LEMMY_URL=https://your-lemmy-instance.example.com
LEMMY_USER=mirrorbot
LEMMY_PASS=YourStrongPasswordHere

# Optional: dedicated comment bot (recommended)
LEMMY_USER_COMMENTS=mirrorcomments
LEMMY_PASS_COMMENTS=AnotherStrongPassword
TOKEN_FILE_COMMENTS=/opt/Reddit-Mirror-2-Lemmy/data/lemmy_token.json

# === Subreddit → Community Mapping ===
# Format: reddit_subreddit:lemmy_community,sub2:comm2,...
SUB_MAP=3dprinting:3dprinting,fixmyprint:fixmyprint,almosthomeless:almosthomeless

# === Main Behavior ===
SLEEP_SECONDS=900            # Wait time between cycles (in seconds)
MIRROR_COMMENTS=true         # Enable full comment tree mirroring
MAX_POSTS_PER_RUN=5          # Max new posts per subreddit each run

# === Comment & Rate Limit Settings ===
COMMENT_LIMIT_TOTAL=500      # Max total comments per Reddit post
COMMENT_LIMIT=3              # Max comments per Lemmy post per batch
COMMENT_SLEEP=5              # Delay between each comment post (seconds)
GALLERY_SLEEP=1              # Delay between each image upload (seconds)

# === Optional Edit Synchronization ===
MIRROR_EDITS=true
EDIT_CHECK_LIMIT=50          # Max recent posts to recheck per cycle
EDIT_SLEEP=0.5               # Delay between edit checks (seconds)

# === Internal Cache Directory ===
DATA_DIR=/opt/Reddit-Mirror-2-Lemmy/data

# === Reddit API Credentials ===
REDDIT_CLIENT_ID=your_reddit_client_id
REDDIT_CLIENT_SECRET=your_reddit_client_secret
REDDIT_USERNAME=your_reddit_username
REDDIT_PASSWORD=your_reddit_password
REDDIT_USER_AGENT=reddit-lemmy-bridge/1.0  # Needs to match your reddit app name

# === Mode & Debug Settings ===
TEST_MODE=false              # Set true to test without posting
POST_FETCH_LIMIT=ALL         # “ALL” = full history backfill, or numeric limit

# === Media & Preview Settings ===
ENABLE_MEDIA_PREVIEW=true         # Include Reddit images/videos
EMBED_PERMALINK_FOOTER=true       # Adds “Source: Reddit” footer to posts
MAX_GALLERY_IMAGES=10             # Max images per multi-photo gallery

# Lemmy → Reddit Comment Mirror Settings
LEMMY_COMMENT_SYNC_INTERVAL=600   # 10 minutes between sync cycles
LEMMY_COMMENT_FETCH_LIMIT=50      # number of comments to fetch per cycle

# Reddit → Lemmy Comment Mirror Settings
REDDIT_COMMENT_SYNC_INTERVAL=600   # every 10 minutes

# Identify bridge accounts so the sync won't re-mirror itself
REDDIT_BOT_USERNAME=YourRedditBotUsername
LEMMY_BOT_USERNAME=YourLemmyBotUsername

# Lemmy To Reddit Bot Credentials
LEMMY_TO_REDDIT_USERNAME=your_reddit_username
LEMMY_TO_REDDIT_PASSWORD=your_reddit_password
LEMMY_TO_REDDIT_CLIENT_ID=your_reddit_client_id
LEMMY_TO_REDDIT_CLIENT_SECRET=your_reddit_client_secret
LEMMY_TO_REDDIT_USER_AGENT=mirror-comment-bot/1.0  # Needs to match your reddit app name
ENABLE_LEMMY_COMMENT_SYNC=false

# === Misc ===
# Optional custom intervals, tokens, etc.
# TOKEN_REUSE_HOURS=23
# COMMUNITY_REFRESH_HOURS=6
